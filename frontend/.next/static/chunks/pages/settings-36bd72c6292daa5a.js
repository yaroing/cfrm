(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{3406:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return a(760)}])},760:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return o}});var i=a(5893),r=a(7294),t=a(214);function o(){let[e,s]=(0,r.useState)({site_name:"CFRM Feedback communautaire",site_description:"Plateforme de feedback communautaire",contact_email:"contact@cfrm.org",contact_phone:"+33 1 23 45 67 89",timezone:"Europe/Paris",language:"fr",maintenance_mode:!1,allow_registration:!0,require_email_verification:!0,max_file_size:10485760,allowed_file_types:["pdf","doc","docx","jpg","jpeg","png","gif"],smtp_host:"",smtp_port:587,smtp_username:"",smtp_password:"",twilio_account_sid:"",twilio_auth_token:"",whatsapp_access_token:"",encryption_key:"",session_timeout:3600,max_login_attempts:5,password_min_length:8,password_require_special:!0,audit_log_retention_days:365}),[a,o]=(0,r.useState)("general"),[n,l]=(0,r.useState)(!1),[d,c]=(0,r.useState)(null),u=async()=>{try{l(!0),c({type:"success",text:"Param\xe8tres sauvegard\xe9s avec succ\xe8s"}),setTimeout(()=>c(null),3e3)}catch(e){c({type:"error",text:"Erreur lors de la sauvegarde"}),setTimeout(()=>c(null),3e3)}finally{l(!1)}},m=(e,a)=>{s(s=>({...s,[e]:a}))},g=()=>(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Nom du site"}),(0,i.jsx)("input",{type:"text",value:e.site_name,onChange:e=>m("site_name",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description du site"}),(0,i.jsx)("textarea",{value:e.site_description,onChange:e=>m("site_description",e.target.value),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email de contact"}),(0,i.jsx)("input",{type:"email",value:e.contact_email,onChange:e=>m("contact_email",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"T\xe9l\xe9phone de contact"}),(0,i.jsx)("input",{type:"tel",value:e.contact_phone,onChange:e=>m("contact_phone",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fuseau horaire"}),(0,i.jsxs)("select",{value:e.timezone,onChange:e=>m("timezone",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[(0,i.jsx)("option",{value:"Europe/Paris",children:"Europe/Paris"}),(0,i.jsx)("option",{value:"UTC",children:"UTC"}),(0,i.jsx)("option",{value:"America/New_York",children:"America/New_York"}),(0,i.jsx)("option",{value:"Asia/Tokyo",children:"Asia/Tokyo"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Langue"}),(0,i.jsxs)("select",{value:e.language,onChange:e=>m("language",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[(0,i.jsx)("option",{value:"fr",children:"Fran\xe7ais"}),(0,i.jsx)("option",{value:"en",children:"English"}),(0,i.jsx)("option",{value:"es",children:"Espa\xf1ol"}),(0,i.jsx)("option",{value:"ar",children:"العربية"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",checked:e.maintenance_mode,onChange:e=>m("maintenance_mode",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,i.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Mode maintenance"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",checked:e.allow_registration,onChange:e=>m("allow_registration",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,i.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Autoriser l'inscription"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",checked:e.require_email_verification,onChange:e=>m("require_email_verification",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,i.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"V\xe9rification email requise"})]})]})]}),x=()=>(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cl\xe9 de chiffrement"}),(0,i.jsx)("input",{type:"password",value:e.encryption_key,onChange:e=>m("encryption_key",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Cl\xe9 AES-256"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"D\xe9lai d'expiration de session (secondes)"}),(0,i.jsx)("input",{type:"number",value:e.session_timeout,onChange:e=>m("session_timeout",parseInt(e.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tentatives de connexion max"}),(0,i.jsx)("input",{type:"number",value:e.max_login_attempts,onChange:e=>m("max_login_attempts",parseInt(e.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Longueur minimale du mot de passe"}),(0,i.jsx)("input",{type:"number",value:e.password_min_length,onChange:e=>m("password_min_length",parseInt(e.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",checked:e.password_require_special,onChange:e=>m("password_require_special",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,i.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Caract\xe8res sp\xe9ciaux requis"})]})]})]}),p=()=>(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Serveur SMTP"}),(0,i.jsx)("input",{type:"text",value:e.smtp_host,onChange:e=>m("smtp_host",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"smtp.gmail.com"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Port SMTP"}),(0,i.jsx)("input",{type:"number",value:e.smtp_port,onChange:e=>m("smtp_port",parseInt(e.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Nom d'utilisateur SMTP"}),(0,i.jsx)("input",{type:"text",value:e.smtp_username,onChange:e=>m("smtp_username",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Mot de passe SMTP"}),(0,i.jsx)("input",{type:"password",value:e.smtp_password,onChange:e=>m("smtp_password",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),h=()=>(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Twilio Account SID"}),(0,i.jsx)("input",{type:"text",value:e.twilio_account_sid,onChange:e=>m("twilio_account_sid",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Twilio Auth Token"}),(0,i.jsx)("input",{type:"password",value:e.twilio_auth_token,onChange:e=>m("twilio_auth_token",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"WhatsApp Access Token"}),(0,i.jsx)("input",{type:"password",value:e.whatsapp_access_token,onChange:e=>m("whatsapp_access_token",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),b=()=>(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Taille maximale des fichiers (octets)"}),(0,i.jsx)("input",{type:"number",value:e.max_file_size,onChange:e=>m("max_file_size",parseInt(e.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),(0,i.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Actuellement: ",(e.max_file_size/1024/1024).toFixed(1)," MB"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Types de fichiers autoris\xe9s"}),(0,i.jsx)("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-2",children:e.allowed_file_types.map((s,a)=>(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",checked:!0,onChange:s=>{s.target.checked||m("allowed_file_types",e.allowed_file_types.filter((e,s)=>s!==a))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,i.jsxs)("label",{className:"ml-2 block text-sm text-gray-900",children:[".",s]})]},a))})]})]}),f=()=>(0,i.jsx)("div",{className:"space-y-6",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"R\xe9tention des logs d'audit (jours)"}),(0,i.jsx)("input",{type:"number",value:e.audit_log_retention_days,onChange:e=>m("audit_log_retention_days",parseInt(e.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),(0,i.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Les logs seront supprim\xe9s apr\xe8s cette p\xe9riode"})]})});return(0,i.jsx)(t.Z,{children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Param\xe8tres"}),(0,i.jsx)("button",{onClick:u,disabled:n,className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 disabled:opacity-50",children:n?"Sauvegarde...":"Sauvegarder"})]}),d&&(0,i.jsx)("div",{className:"rounded-md p-4 ".concat("success"===d.type?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:"success"===d.type?(0,i.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,i.jsx)("div",{className:"ml-3",children:(0,i.jsx)("p",{className:"text-sm font-medium ".concat("success"===d.type?"text-green-800":"text-red-800"),children:d.text})})]})}),(0,i.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,i.jsx)("div",{className:"border-b border-gray-200",children:(0,i.jsx)("nav",{className:"-mb-px flex space-x-8 px-6","aria-label":"Tabs",children:[{id:"general",name:"G\xe9n\xe9ral",icon:"⚙️"},{id:"security",name:"S\xe9curit\xe9",icon:"\uD83D\uDD12"},{id:"email",name:"Email",icon:"\uD83D\uDCE7"},{id:"sms",name:"SMS/WhatsApp",icon:"\uD83D\uDCF1"},{id:"files",name:"Fichiers",icon:"\uD83D\uDCC1"},{id:"audit",name:"Audit",icon:"\uD83D\uDCCA"}].map(e=>(0,i.jsxs)("button",{onClick:()=>o(e.id),className:"".concat(a===e.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"),children:[(0,i.jsx)("span",{className:"mr-2",children:e.icon}),e.name]},e.id))})}),(0,i.jsx)("div",{className:"p-6",children:(()=>{switch(a){case"general":default:return g();case"security":return x();case"email":return p();case"sms":return h();case"files":return b();case"audit":return f()}})()})]})]})})}}},function(e){e.O(0,[430,117,214,774,888,179],function(){return e(e.s=3406)}),_N_E=e.O()}]);